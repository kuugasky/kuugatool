package io.github.kuugasky.kuugatool.extra.zip;

import org.junit.jupiter.api.Test;

class GzipUtilTest {

    @Test
    void compressAndUncompress() {
        String loginDtoStr = "{\"isNeedChangePassword\":\"NO\",\"firstLogin\":false,\"companyOrgName\":\"深圳分公司（盘客专用勿动）\",\"isCityCompanyNeedCharge\":\"NO\",\"orgId\":\"000252\",\"cityCodeOfCompanyLocation\":\"SHENZHEN\",\"positionName\":\"店长\",\"brandOrgId\":\"000004\",\"cityCompanyNeedCharge\":false,\"orgType\":\"SHOP_ORG\",\"photoUrl\":\"https://kfang-image-test.oss-cn-beijing.aliyuncs.com/test/garden/579943d9-b6a3-4f1f-a350-3fb178c2a5cd.jpg\",\"loginTime\":1620369420837,\"storeOrgName\":\"大冲一分店\",\"allianceOrgName\":\"加盟品牌A\",\"companyOrgType\":\"SECONDHANDHOUSE_CITY_COMPANY\",\"isManager\":\"YES\",\"menuFunctionList\":[\"OMS_Infra_CmntyMg_GardenModeling\",\"OMS_Infra_CmntyMg_DeleteCmnty\",\"OMS_Infra_CmntyMg_DeleteBuildingUnit\",\"OMS_Infra_CmntyMg_DeleteRoomNumber\",\"OMS_Infra_CmntyMg_DeleteFloor\",\"OMS_Infra_CmntyMg_ViewCmnty\",\"OMS_Infra_CmntyMg_AddCmnty\",\"OMS_Infra_CmntyMg_ImportCmnty\",\"OMS_Infra_CmntyMg_ExportCmnty\",\"OMS_Infra_DevelopersMg_Update\",\"OMS_Infra_DevelopersMg_Delete\",\"OMS_Infra_DevelopersMg_Insert\",\"OMS_Infra_DevelopersMg_Import\",\"OMS_Infra_DevelopersMg_Export\",\"OMS_Infra_PropertyCompanyMg_Insert\",\"OMS_Infra_PropertyCompanyMg_Import\",\"OMS_Infra_PropertyCompanyMg_Export\",\"OMS_Infra_PropertyCompanyMg_Update\",\"OMS_Infra_PropertyCompanyMg_Delete\",\"OMS_Infra_RegionalBusiness_EditBusinessInfo\",\"OMS_Infra_RegionalBusiness_CalibrationAreaRange\",\"OMS_Infra_RegionalBusiness_AddBusiness\",\"OMS_Infra_RegionalBusiness_CalibrateRegionRange\",\"OMS_Infra_RegionalBusiness_DeleteRegion\",\"OMS_Infra_RegionalBusiness_EditRegionInfo\",\"OMS_Infra_RegionalBusiness_CalibrateBusinessRange\",\"OMS_Infra_RegionalBusiness_AddRegion\",\"OMS_Infra_RegionalBusiness_DeleteBusiness\",\"OMS_Infra_MatchingMg_Insert\",\"OMS_Infra_MatchingMg_Update\",\"OMS_Infra_MatchingMg_Delete\",\"OMS_Infra_UseTagMg_Update\",\"OMS_Infra_UseTagMg_Detele\",\"OMS_Infra_UseTagMg_Insert\",\"OMS_Infra_CityMg_Start\",\"OMS_Infra_CityMg_Stop\",\"OMS_Infra_CityMg_Update\",\"OMS_Infra_FunctionPermissionConfig_InsertMenuOMS\",\"OMS_Infra_FunctionPermissionConfig_UpdateMenuOMS\",\"OMS_Infra_FunctionPermissionConfig_DeleteMenuOMS\",\"OMS_Infra_FunctionPermissionConfig_ConfigPermissionOMS\",\"OMS_Infra_FunctionPermissionConfig_InsertMenuFKB\",\"OMS_Infra_FunctionPermissionConfig_UpdateMenuFKB\",\"OMS_Infra_FunctionPermissionConfig_DeleteMenuFKB\",\"OMS_Infra_FunctionPermissionConfig_ConfigPermissionFKB\",\"OMS_Infra_DataPermissionConfig_InsertPermissionOMS\",\"OMS_Infra_DataPermissionConfig_UpdatePermissionOMS\",\"OMS_Infra_DataPermissionConfig_DeletePermissionOMS\",\"OMS_Infra_DataPermissionConfig_InsertPermissionFKB\",\"OMS_Infra_DataPermissionConfig_UpdatePermissionFKB\",\"OMS_Infra_DataPermissionConfig_DeletePermissionFKB\",\"OMS_Infra_MsgConfig_AddNotice\",\"OMS_Infra_MsgConfig_EditNotice\",\"OMS_Infra_MsgConfig_AddAgency\",\"OMS_Infra_MsgConfig_DeleteAgency\",\"OMS_Infra_MsgConfig_EditAgency\",\"OMS_Infra_MsgConfig_DeleteNotice\",\"OMS_Infra_ParamsMg_Insert\",\"OMS_Infra_ParamsMg_Delete\",\"OMS_Infra_ParamsMg_Edit\",\"OMS_Infra_SystemPermissionSettiing_PostPermissionOMS\",\"OMS_Infra_SystemPermissionSettiing_OrgPermissionOMS\",\"OMS_Infra_SystemPermissionSettiing_OrgPermissionFKB\",\"OMS_Infra_SystemPermissionSettiing_PersonPermissionOMS\",\"OMS_Infra_SystemPermissionSettiing_PersonPermissionFKB\",\"OMS_Infra_SystemPermissionSettiing_DataPermissionOMS\",\"OMS_Infra_SystemPermissionSettiin_DataPermissionFKB\",\"OMS_Infra_SystemPermissionSettiing_PostPermissionFKB\",\"OMS_Infra_ParamConfig_AgentSetting\",\"OMS_Infra_ParamConfig_NewhouseSetting\",\"OMS_Infra_ParamConfig_TradingSetting\",\"OMS_Infra_ParamConfig_OnlineSetting\",\"OMS_Infra_ParamConfig_CommonSetting\",\"OMS_Infra_ParamConfig_DevSetting\",\"OMS_Infra_ParamConfig_Edit\",\"OMS_Infra_ParamConfig_Set\",\"OMS_Infra_ParamConfig_Delete\",\"OMS_Infra_ParamConfig_Add\"],\"id\":\"d267b20fc66a4dadb0a5851becaf7a8a\",\"menuList\":[{\"code\":\"/oms-dict\",\"icon\":\"iconloupanjianmo2\",\"name\":\"楼盘字典\",\"childs\":[{\"code\":\"/oms-dict/community-management\",\"icon\":\"\",\"name\":\"小区管理\",\"childs\":[]},{\"code\":\"/oms-dict/develop-management\",\"icon\":\"\",\"name\":\"开发商管理\",\"childs\":[]},{\"code\":\"/oms-dict/property-management\",\"icon\":\"\",\"name\":\"物业公司管理\",\"childs\":[]},{\"code\":\"/oms-dict/business-management\",\"icon\":\"\",\"name\":\"区域商圈管理\",\"childs\":[]},{\"code\":\"/oms-dict/community-mating-management\",\"icon\":\"\",\"name\":\"小区配套管理\",\"childs\":[]},{\"code\":\"/oms-dict/use-tag\",\"icon\":\"\",\"name\":\"用途标签\",\"childs\":[]},{\"code\":\"/oms-dict/city-management\",\"icon\":\"\",\"name\":\"城市管理\",\"childs\":[]}]},{\"code\":\"/oms-oa/league-management\",\"icon\":\"iconjiamengguanli\",\"name\":\"加盟管理\",\"childs\":[{\"code\":\"/oms-oa/league-management/brand-management\",\"icon\":\"\",\"name\":\"品牌管理\",\"childs\":[]}]},{\"code\":\"/oms-oa/development-config\",\"icon\":\"iconyanfapeizhi\",\"name\":\"研发配置\",\"childs\":[{\"code\":\"/oms-oa/development-config/menu-config\",\"icon\":\"\",\"name\":\"菜单配置\",\"childs\":[]},{\"code\":\"/oms-oa/development-config/data-permission-config\",\"icon\":\"\",\"name\":\"数据权限配置\",\"childs\":[]},{\"code\":\"/oms-oa/development-config/message-config\",\"icon\":\"\",\"name\":\"消息待办配置\",\"childs\":[]},{\"code\":\"/oms-oa/development-config/params-config\",\"icon\":\"\",\"name\":\"参数配置管理\",\"childs\":[]}]},{\"code\":\"/oms-oa/system-setting\",\"icon\":\"iconxitongshezhi\",\"name\":\"系统设置\",\"childs\":[{\"code\":\"/oms-oa/system-setting/system-permission-setting\",\"icon\":\"\",\"name\":\"系统权限设置\",\"childs\":[]},{\"code\":\"/oms-oa/system-params-config\",\"icon\":\"\",\"name\":\"系统参数设置\",\"childs\":[]}]}],\"orgName\":\"大冲一分店\",\"positionList\":[{\"positionName\":\"店长\",\"orgType\":\"SHOP_ORG\",\"orgName\":\"大冲一分店\",\"positionId\":\"0003\",\"levelId\":\"001\",\"isMajor\":\"YES\",\"isManager\":\"YES\",\"levelName\":\"初级\",\"orgId\":\"000252\"}],\"isFirstLogin\":\"NO\",\"brandOrgName\":\"加盟品牌A\",\"createOperatorId\":\"\",\"isAdmin\":\"NO\",\"storeId\":\"SZ000003\",\"systemUsageDeadline\":1682956799000,\"companyLocation\":\"深圳\",\"storeOrgId\":\"000252\",\"terminalType\":\"OMS_PC\",\"token\":\"e233887608e2cdd29e62ad9c9f7be2e4e12e5e327ed4137ff30206f898e04f44\",\"kanFangId\":\"000001\",\"positionId\":\"0003\",\"phone\":\"13000000018\",\"updateOperatorId\":\"\",\"companyOrgId\":\"000246\",\"name\":\"钟源\",\"isMajor\":\"YES\",\"allianceOrgId\":\"000004\",\"bizScopeListOfCompany\":[{\"cityName\":\"深圳\",\"regionList\":[{\"name\":\"光明区\",\"id\":\"0755-09\"},{\"name\":\"坪山区\",\"id\":\"0755-08\"},{\"name\":\"龙华区\",\"id\":\"0755-07\"},{\"name\":\"盐田区\",\"id\":\"0755-06\"},{\"name\":\"龙岗区\",\"id\":\"0755-05\"},{\"name\":\"宝安区\",\"id\":\"0755-04\"},{\"name\":\"南山区\",\"id\":\"0755-03\"},{\"name\":\"罗湖区\",\"id\":\"0755-02\"}],\"cityCode\":\"SHENZHEN\"},{\"cityName\":\"中山市\",\"regionList\":[{\"name\":\"南区街道\",\"id\":\"0760-05\"},{\"name\":\"西区街道\",\"id\":\"0760-04\"},{\"name\":\"火炬开发区街道\",\"id\":\"0760-03\"}],\"cityCode\":\"ZHONGSHAN\"},{\"cityName\":\"佛山市\",\"regionList\":[{\"name\":\"顺德区\",\"id\":\"0757-03\"},{\"name\":\"禅城区\",\"id\":\"0757-01\"}],\"cityCode\":\"FOSHAN\"}],\"status\":\"FORMAL\"}";
        // System.out.println(Base64Util.encode(loginDtoStr));
        System.out.println("文本长度:" + loginDtoStr.length());
        String compress = GzipUtil.compress(loginDtoStr);
        System.out.println("文本压缩后:" + compress);
        System.out.println("文本压缩后长度:" + compress.length());

        String uncompress = GzipUtil.uncompress(compress);
        System.out.println("文本解压缩后:" + uncompress);
        System.out.println("文本解压缩后长度:" + uncompress.length());
        System.out.println("是否相等:" + uncompress.equals(loginDtoStr));
    }

    @Test
    void unGzipFile() {
        GzipUtil.unGzipFile("/Users/kuuga/Downloads/43260相关文件.zip", "/Users/kuuga/Downloads/");
        GzipUtil.unGzipFile("/Users/kuuga/Downloads/43260相关文件.zip", "/Users/kuuga/Downloads/");
    }

}